<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.crowdaid.controller.RewardManagementController"
            stylesheets="@../css/styles.css">
    
    <top>
        <VBox alignment="CENTER" spacing="10" styleClass="header-section">
            <padding>
                <Insets top="20" right="20" bottom="10" left="20"/>
            </padding>
            <Label text="Reward Shop Management" styleClass="page-title">
                <font>
                    <Font name="System Bold" size="28"/>
                </font>
            </Label>
            <Label text="Create and manage rewards for donors" styleClass="subtitle"/>
        </VBox>
    </top>
    
    <center>
        <BorderPane>
            <left>
                <VBox spacing="15" BorderPane.alignment="TOP_LEFT">
                    <padding>
                        <Insets top="20" right="15" bottom="20" left="30"/>
                    </padding>
                    
                    <Label text="Existing Rewards:" styleClass="section-label">
                        <font>
                            <Font name="System Bold" size="14"/>
                        </font>
                    </Label>
                    
                    <ListView fx:id="rewardListView" prefWidth="250" prefHeight="400"/>
                    
                    <Button fx:id="newRewardButton" text="+ New Reward" onAction="#handleAdd" 
                            styleClass="primary-button" prefWidth="200"/>
                    <Button fx:id="deleteButton" text="Delete Selected" onAction="#handleDelete" 
                            styleClass="danger-button" prefWidth="200"/>
                </VBox>
            </left>
            
            <center>
                <ScrollPane fitToWidth="true" fitToHeight="true">
                    <VBox spacing="20">
                        <padding>
                            <Insets top="20" right="30" bottom="20" left="20"/>
                        </padding>
                        
                        <Label text="Reward Details:" styleClass="section-title">
                            <font>
                                <Font name="System Bold" size="18"/>
                            </font>
                        </Label>
                        
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints hgrow="NEVER" minWidth="120"/>
                                <ColumnConstraints hgrow="ALWAYS"/>
                            </columnConstraints>
                            
                            <Label text="Reward Name:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                            <TextField fx:id="nameField" GridPane.columnIndex="1" GridPane.rowIndex="0" 
                                      promptText="Enter reward name..."/>
                            
                            <Label text="Description:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                            <TextArea fx:id="descriptionArea" wrapText="true" prefHeight="100" 
                                     GridPane.columnIndex="1" GridPane.rowIndex="1" 
                                     promptText="Enter reward description..."/>
                            
                            <Label text="Credit Cost:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                            <TextField fx:id="creditCostField" GridPane.columnIndex="1" GridPane.rowIndex="2" 
                                      promptText="Enter credit cost..."/>
                            
                            <Label text="Category:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                            <ComboBox fx:id="categoryComboBox" GridPane.columnIndex="1" GridPane.rowIndex="3" 
                                     prefWidth="200" promptText="Select category..."/>
                            
                            <Label text="Stock Quantity:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                            <TextField fx:id="stockField" GridPane.columnIndex="1" GridPane.rowIndex="4" 
                                      promptText="Enter stock quantity..."/>
                            
                            <Label text="Available:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                            <CheckBox fx:id="availableCheckBox" text="Make this reward available to donors" 
                                     GridPane.columnIndex="1" GridPane.rowIndex="5"/>
                        </GridPane>
                        
                        <HBox spacing="15" alignment="CENTER">
                            <padding>
                                <Insets top="10"/>
                            </padding>
                            <Button fx:id="saveButton" text="Save Reward" onAction="#handleSave" 
                                    styleClass="primary-button" prefWidth="130">
                                <font>
                                    <Font name="System Bold" size="14"/>
                                </font>
                            </Button>
                            <Button fx:id="clearButton" text="Clear Form" onAction="#handleClear" 
                                    styleClass="secondary-button" prefWidth="130"/>
                        </HBox>
                    </VBox>
                </ScrollPane>
            </center>
        </BorderPane>
    </center>
    
    <bottom>
        <HBox spacing="10" alignment="CENTER_RIGHT">
            <padding>
                <Insets top="10" right="20" bottom="15" left="20"/>
            </padding>
            <Button fx:id="backButton" text="Back to Dashboard" onAction="#handleBack" 
                    styleClass="secondary-button" prefWidth="150"/>
        </HBox>
    </bottom>
    
</BorderPane>
