<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.crowdaid.controller.DonorDashboardController"
           stylesheets="@../css/styles.css" styleClass="root">
    
    <!-- Top Bar -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="header">
            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
            <Label text="CrowdAid" styleClass="header-title">
                <font>
                    <Font name="System Bold" size="24"/>
                </font>
            </Label>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="creditBalanceLabel" text="Credits: 0" styleClass="credit-label">
                <font>
                    <Font name="System Bold" size="14"/>
                </font>
            </Label>
            <Button fx:id="logoutButton" text="Logout" onAction="#handleLogout" 
                   styleClass="secondary-button"/>
        </HBox>
    </top>
    
    <!-- Main Content -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="scroll-pane">
            <VBox alignment="CENTER" spacing="30">
                <padding><Insets top="40" right="40" bottom="40" left="40"/></padding>
                
                <!-- Welcome Message -->
                <Label fx:id="welcomeLabel" text="Welcome, User!" styleClass="title">
                    <font>
                        <Font name="System Bold" size="28"/>
                    </font>
                </Label>
                
                <!-- Dashboard Menu -->
                <GridPane hgap="20" vgap="20" alignment="CENTER">
                
                <!-- Browse Campaigns -->
                <VBox alignment="CENTER" spacing="10" styleClass="dashboard-card" 
                     GridPane.columnIndex="0" GridPane.rowIndex="0">
                    <padding>
                        <Insets top="30" right="40" bottom="30" left="40"/>
                    </padding>
                    <Label text="ðŸ”" styleClass="icon-label">
                        <font><Font size="48"/></font>
                    </Label>
                    <Label text="Browse Campaigns">
                        <font><Font name="System Bold" size="16"/></font>
                    </Label>
                    <Label text="Discover campaigns to support" 
                          wrapText="true" textAlignment="CENTER" maxWidth="200"/>
                    <Button fx:id="browseCampaignsButton" text="Browse" 
                           onAction="#handleBrowseCampaigns" 
                           styleClass="primary-button" prefWidth="150"/>
                </VBox>
                
                <!-- My Donations -->
                <VBox alignment="CENTER" spacing="10" styleClass="dashboard-card"
                     GridPane.columnIndex="1" GridPane.rowIndex="0">
                    <padding>
                        <Insets top="30" right="40" bottom="30" left="40"/>
                    </padding>
                    <Label text="ðŸ’°" styleClass="icon-label">
                        <font><Font size="48"/></font>
                    </Label>
                    <Label text="My Donations">
                        <font><Font name="System Bold" size="16"/></font>
                    </Label>
                    <Label text="View your donation history" 
                          wrapText="true" textAlignment="CENTER" maxWidth="200"/>
                    <Button fx:id="myDonationsButton" text="View" 
                           onAction="#handleMyDonations" 
                           styleClass="primary-button" prefWidth="150"/>
                </VBox>
                
                <!-- My Subscriptions -->
                <VBox alignment="CENTER" spacing="10" styleClass="dashboard-card"
                     GridPane.columnIndex="0" GridPane.rowIndex="1">
                    <padding>
                        <Insets top="30" right="40" bottom="30" left="40"/>
                    </padding>
                    <Label text="ðŸ“…" styleClass="icon-label">
                        <font><Font size="48"/></font>
                    </Label>
                    <Label text="My Subscriptions">
                        <font><Font name="System Bold" size="16"/></font>
                    </Label>
                    <Label text="Manage recurring donations" 
                          wrapText="true" textAlignment="CENTER" maxWidth="200"/>
                    <Button fx:id="subscriptionsButton" text="View" 
                           onAction="#handleMySubscriptions" 
                           styleClass="primary-button" prefWidth="150"/>
                </VBox>
                
                <!-- Reward Shop -->
                <VBox alignment="CENTER" spacing="10" styleClass="dashboard-card"
                     GridPane.columnIndex="1" GridPane.rowIndex="1">
                    <padding>
                        <Insets top="30" right="40" bottom="30" left="40"/>
                    </padding>
                    <Label text="ðŸŽ" styleClass="icon-label">
                        <font><Font size="48"/></font>
                    </Label>
                    <Label text="Reward Shop">
                        <font><Font name="System Bold" size="16"/></font>
                    </Label>
                    <Label text="Redeem credits for rewards" 
                          wrapText="true" textAlignment="CENTER" maxWidth="200"/>
                    <Button fx:id="rewardShopButton" text="Shop" 
                           onAction="#handleRewardShop" 
                           styleClass="primary-button" prefWidth="150"/>
                </VBox>
                
                <!-- Voting Requests -->
                <VBox alignment="CENTER" spacing="10" styleClass="dashboard-card"
                     GridPane.columnIndex="0" GridPane.rowIndex="2">
                    <padding>
                        <Insets top="30" right="40" bottom="30" left="40"/>
                    </padding>
                    <Label text="ðŸ—³ï¸" styleClass="icon-label">
                        <font><Font size="48"/></font>
                    </Label>
                    <Label text="Voting Requests">
                        <font><Font name="System Bold" size="16"/></font>
                    </Label>
                    <Label text="Vote on milestone completions" 
                          wrapText="true" textAlignment="CENTER" maxWidth="200"/>
                    <Button fx:id="votingButton" text="Vote" 
                           onAction="#handleVotingRequests" 
                           styleClass="primary-button" prefWidth="150"/>
                </VBox>
                
            </GridPane>
            
        </VBox>
        </ScrollPane>
    </center>
    
</BorderPane>
